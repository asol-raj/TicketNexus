<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="mb-0">Super Admin Dashboard</h1>
    <span class="badge bg-warning text-dark text-uppercase">Super Admin</span>
  </div>

  <div class="row g-3 mb-4">
    <div class="col-md-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <h6 class="text-muted mb-1">Total Clients</h6>
          <div class="display-6">
            <?= stats.total_clients ?>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <h6 class="text-muted mb-1">Total Users</h6>
          <div class="display-6">
            <?= stats.total_users ?>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row g-4">
    <!-- Create Client -->
    <div class="col-xl-6">
      <div class="card shadow-sm h-100">
        <div class="card-header fw-bold">Create Client</div>
        <div class="card-body">
          <form id="createClientForm" class="vstack gap-2">
            <input class="form-control" name="name" placeholder="Client Name (e.g., CFC)" required>
            <input class="form-control" name="email" type="email" placeholder="Contact Email">
            <input class="form-control" name="phone" placeholder="Contact Phone">
            <textarea class="form-control" name="address" placeholder="Address"></textarea>
            <button class="btn btn-primary mt-2" type="submit">Create Client</button>
          </form>
          <div id="clientMsg" class="mt-2 small"></div>
        </div>
      </div>
    </div>

    <!-- Create Internal Admin (assigned to selected client) -->
    <div class="col-xl-6">
      <div class="card shadow-sm h-100">
        <div class="card-header fw-bold">Create Internal Admin (Assigned to Client)</div>
        <div class="card-body">
          <form id="createInternalAdminForm" class="vstack gap-2">
            <select class="form-select" name="clientId" id="clientSelectForInternal" required>
              <option value="">Select a client...</option>
            </select>
            <input class="form-control" name="email" type="email" placeholder="Email" required>
            <input class="form-control" name="password" type="password" placeholder="Password" required>
            <input class="form-control" name="first_name" placeholder="First name (optional)">
            <input class="form-control" name="last_name" placeholder="Last name (optional)">
            <input class="form-control" name="username" placeholder="Username (optional)">
            <button class="btn btn-secondary mt-2" type="submit">Create Internal Admin</button>
          </form>
          <div id="internalAdminMsg" class="mt-2 small"></div>
        </div>
      </div>
    </div>

    <!-- Create Client Admin -->
    <div class="col-xl-6">
      <div class="card shadow-sm h-100">
        <div class="card-header fw-bold">Create Client Admin</div>
        <div class="card-body">
          <form id="createClientAdminForm" class="vstack gap-2">
            <select class="form-select" name="clientId" id="clientSelectForClientAdmin" required>
              <option value="">Select a client...</option>
            </select>
            <input class="form-control" name="email" type="email" placeholder="Email" required>
            <input class="form-control" name="password" type="password" placeholder="Password" required>
            <input class="form-control" name="first_name" placeholder="First name (optional)">
            <input class="form-control" name="last_name" placeholder="Last name (optional)">
            <input class="form-control" name="username" placeholder="Username (optional)">
            <button class="btn btn-success mt-2" type="submit">Create Client Admin</button>
          </form>
          <div id="clientAdminMsg" class="mt-2 small"></div>
        </div>
      </div>
    </div>
  </div>

  <hr class="my-5">

  <h3>Internal Admins</h3>
  <table class="table table-sm table-bordered align-middle" id="internalAdminsTable">
    <thead class="table-light">
      <tr>
        <th>#</th>
        <th>Client</th>
        <th>Username</th>
        <th>Email</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <h3>Client Admins</h3>
  <table class="table table-sm table-bordered align-middle" id="clientAdminsTable">
    <thead class="table-light">
      <tr>
        <th>#</th>
        <th>Client</th>
        <th>Username</th>
        <th>Email</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

</div>

<!-- Page script lives in /public/js/supadmin.js -->
<script type="module" src="js/supadmin.js"></script>